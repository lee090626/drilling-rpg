(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4515,e=>{"use strict";var t=e.i(43476),r=e.i(71645);class l{grid;constructor(){this.grid=this.generateMap()}generateMap(){let e=[];for(let t=0;t<1e3;t++){let r=[];for(let e=0;e<30;e++)r.push(this.generateTile(e,t));e.push(r)}return e}generateTile(e,t){if(t<10)return{type:"empty",health:0,maxHealth:0,value:0};if(0===e||29===e)return{type:"wall",health:1/0,maxHealth:1/0,value:0};let r=Math.random(),l="dirt",a=40,s=1;return t<20?r<.05&&(l="coal",a=100,s=10):t<50?r<.1?(l="stone",a=250,s=0):r<.15?(l="coal",a=100,s=10):r<.17&&(l="iron",a=600,s=50):(r<.2?(l="stone",a=250,s=0):r<.25?(l="iron",a=600,s=50):r<.27?(l="gold",a=1500,s=200):r<.29&&t>50?(l="diamond",a=4e3,s=1e3):r<.31&&t>100?(l="emerald",a=8e3,s=500):r<.33&&t>150?(l="ruby",a=15e3,s=800):r<.345&&t>200?(l="sapphire",a=25e3,s=1200):r<.355&&t>300?(l="uranium",a=45e3,s=2e3):r<.36&&t>500&&(l="obsidian",a=8e4,s=5e3),t>=990&&t<=1010&&((1===e||28===e)&&(l="dungeon_bricks",a=1e3),(990===t||1010===t)&&(l="dungeon_bricks",a=1e3),1e3===t&&e===Math.floor(15)?(l="boss_core",a=1e4):1e3===t&&(e===Math.floor(15)-1||e===Math.floor(15)+1)&&(l="monster_nest",a=200))),{type:l,health:a,maxHealth:a,value:s}}getTile(e,t){return t<0||t>=1e3||e<0||e>=30?null:this.grid[t][e]}damageTile(e,t,r){let l=this.getTile(e,t);return!!l&&"empty"!==l.type&&"wall"!==l.type&&(l.health-=r,l.health<=0&&(l.type="empty",l.health=0,!0))}serialize(){let e=[];for(let t=0;t<1e3;t++){let r=[];for(let e=0;e<30;e++){let l=this.grid[t][e],s=a[l.type]??0;r.push([s,l.health])}e.push(r)}return e}deserialize(e){if(!e||1e3!==e.length||30!==e[0].length)return void console.error("Invalid save data dimensions");for(let t=0;t<1e3;t++)for(let r=0;r<30;r++){let[l,a]=e[t][r],n=s[l]||"dirt",i=function(e){switch(e){case"dirt":default:return{health:10,value:1};case"stone":return{health:60,value:0};case"coal":return{health:20,value:10};case"iron":return{health:50,value:50};case"gold":return{health:150,value:200};case"diamond":return{health:400,value:1e3};case"emerald":return{health:1550,value:500};case"ruby":return{health:1400,value:800};case"sapphire":return{health:2500,value:1200};case"uranium":return{health:3e3,value:2e3};case"obsidian":return{health:5e3,value:5e3};case"lava":case"wall":return{health:1/0,value:0};case"dungeon_bricks":return{health:500,value:0};case"boss_core":return{health:1e4,value:0};case"monster_nest":return{health:200,value:0};case"empty":return{health:0,value:0}}}(n);this.grid[t][r]={type:n,health:a,maxHealth:i.health,value:i.value}}}regenerateResources(e,t){for(let r=10;r<1e3;r++)for(let l=0;l<30;l++){if("empty"!==this.grid[r][l].type)continue;let a=l-e,s=r-t;if(!(a*a+s*s<25)&&5e-4>Math.random()){let e=Math.random(),t="stone",a=60,s=0;if(r<50)t=e<.8?"dirt":e<.95?"stone":"coal";else if(e<.7)t="stone";else if(e<.8)t="dirt";else{let e=this.generateTile(l,r);"empty"!==e.type&&"wall"!==e.type&&(t=e.type,a=e.health,s=e.value)}"stone"===t?(a=60,s=0):"dirt"===t?(a=10,s=1):"coal"===t&&0===s&&(a=20,s=10),this.grid[r][l]={type:t,health:a,maxHealth:a,value:s}}}}}let a={empty:0,dirt:1,stone:2,coal:3,iron:4,gold:5,diamond:6,emerald:7,ruby:8,sapphire:9,uranium:10,obsidian:11,lava:12,dungeon_bricks:13,boss_core:14,monster_nest:15,wall:16},s=Object.entries(a).reduce((e,[t,r])=>(e[r]=t,e),{}),n={rusty_drill:{id:"rusty_drill",name:"Rusty Drill",description:"A basic, reliable drill. Nothing fancy.",icon:"ðŸª›",basePower:20,cooldownMs:300,fuelConsumption:.5,price:{dirt:0}},stone_drill:{id:"stone_drill",name:"Stone Drill",description:"A sturdy drill made of reinforced rock.",icon:"ðŸª¨",basePower:60,cooldownMs:400,fuelConsumption:.6,price:{stone:50}},iron_drill:{id:"iron_drill",name:"Iron Drill",description:"Sharpened iron tip for consistent power.",icon:"ðŸ¥ˆ",basePower:150,cooldownMs:500,fuelConsumption:.8,price:{iron:100,coal:50}},gold_drill:{id:"gold_drill",name:"Gold Drill",description:"High-speed drilling with high fuel cost.",icon:"ðŸŸ¡",basePower:400,cooldownMs:600,fuelConsumption:1.5,price:{gold:100,iron:50}},diamond_drill:{id:"diamond_drill",name:"Diamond Drill",description:"The ultimate drill. Pierces anything.",icon:"ðŸ’Ž",basePower:1e3,cooldownMs:800,fuelConsumption:1,price:{diamond:50,gold:100}},coal_drill:{id:"coal_drill",name:"Coal Drill",description:"Uses coal thermal energy. Efficient but crude.",icon:"ðŸ”¥",basePower:600,cooldownMs:700,fuelConsumption:.5,price:{coal:300,iron:50}}};function i({stats:e,onUpgrade:r,onCraft:l,availableQuests:a,onAcceptQuest:s,onCompleteQuest:n}){return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 pb-4 text-white",children:[(0,t.jsx)("div",{className:"flex-1 space-y-8",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-8 text-gray-100 flex items-center gap-3 font-mono tracking-tight border-b border-white/10 pb-6 text-white text-3xl uppercase",children:"ðŸ› ï¸ Upgrade Depot"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-2 font-bold tracking-widest uppercase opacity-60",children:"System Enhancements"}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:[{id:"fuel",name:"Fuel Tank",requirements:{dirt:80,coal:20},upgrade:"maxFuel",amount:50,icon:"â›½"}].map(l=>{let a=Object.entries(l.requirements).every(([t,r])=>(void 0!==e[t]?e[t]:e.inventory[t]||0)>=r);return(0,t.jsxs)("div",{className:"bg-white/5 p-6 rounded-2xl border border-white/5 hover:border-white/10 transition-colors group",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-5",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-black/40 rounded-xl flex items-center justify-center text-3xl border border-white/5",children:l.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-bold text-base text-gray-200 uppercase tracking-tight",children:l.name}),(0,t.jsxs)("div",{className:"text-xs text-blue-400 font-mono mt-1 font-bold uppercase tracking-wider",children:["NEXT: +",l.amount," UNIT"]})]})]}),(0,t.jsx)("button",{disabled:!a,onClick:()=>r(l.upgrade,l.requirements),className:`px-8 py-3 rounded-xl font-bold text-xs font-mono border transition-all uppercase tracking-[0.15em] ${a?"bg-white text-black border-white hover:bg-gray-200 active:scale-95":"bg-transparent text-gray-700 border-gray-800 cursor-not-allowed"}`,children:"Assemble"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2.5",children:Object.entries(l.requirements).map(([r,l])=>{let a=void 0!==e[r]?e[r]:e.inventory[r]||0,s=a>=l;return(0,t.jsxs)("span",{className:`text-xs px-3 py-1 rounded-lg border font-bold font-mono ${s?"bg-green-500/10 border-green-500/20 text-green-500":"bg-red-500/10 border-red-500/20 text-red-500"}`,children:[r.toUpperCase(),": ",a,"/",l]},r)})})]},l.id)})})]})]})}),(0,t.jsx)("div",{className:"flex-1 space-y-8",children:(0,t.jsxs)("div",{className:"bg-white/5 border border-white/5 p-8 rounded-[2.5rem] h-full flex flex-col",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-8 text-gray-100 flex items-center gap-3 font-mono tracking-tight uppercase",children:"ðŸ“œ Mission Manifest"}),(0,t.jsxs)("div",{className:"space-y-4 flex-1",children:[0===e.activeQuests.length&&(0,t.jsxs)("div",{className:"text-center py-16 border border-white/5 rounded-3xl bg-black/20",children:[(0,t.jsx)("p",{className:"text-gray-600 text-xs font-bold uppercase tracking-widest mb-2",children:"No active signals detected."}),(0,t.jsx)("p",{className:"text-xs text-gray-700 font-mono italic text-center",children:"COMPLETE MISSIONS TO EARN RESOURCES"})]}),e.activeQuests.map(e=>{let r=e.requirement.current>=e.requirement.target,l=Math.min(100,e.requirement.current/e.requirement.target*100);return(0,t.jsxs)("div",{className:"bg-black/40 p-6 rounded-2xl border border-white/5",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-base text-gray-200 uppercase mb-1",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-gray-500 font-mono font-bold tracking-tight uppercase",children:"PRIMARY REQUEST"})]}),r&&(0,t.jsx)("button",{onClick:()=>n(e.id),className:"bg-green-600 hover:bg-green-500 text-white text-xs px-5 py-2.5 rounded-xl font-bold transition-all shadow-lg uppercase tracking-wider",children:"TRANSMIT"})]}),(0,t.jsx)("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden mb-3",children:(0,t.jsx)("div",{className:`h-full transition-all duration-1000 ${r?"bg-green-500":"bg-white/40"}`,style:{width:`${l}%`}})}),(0,t.jsxs)("div",{className:"flex justify-between text-xs font-bold font-mono text-gray-500",children:[(0,t.jsx)("span",{children:r?"READY":"PROGRESSING"}),(0,t.jsxs)("span",{children:[e.requirement.current," / ",e.requirement.target]})]})]},e.id)}),(0,t.jsxs)("div",{className:"pt-8 border-t border-white/5 mt-8 space-y-4",children:[(0,t.jsx)("p",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest px-1 mb-2",children:"Available Contracts"}),a.filter(t=>!e.completedQuestIds.includes(t.id)&&!e.activeQuests.find(e=>e.id===t.id)).map(e=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-white/5 p-5 rounded-2xl border border-white/5 group transition-colors",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-bold text-gray-300 group-hover:text-white transition-colors uppercase block mb-1",children:e.title}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 font-mono font-bold tracking-tight",children:["REWARD:"," ",(0,t.jsx)("span",{className:"text-green-500 font-black",children:e.reward.fuel?`FUEL +${e.reward.fuel}`:"RESOURCES"})]})]}),(0,t.jsx)("button",{onClick:()=>s(e.id),className:"bg-transparent border border-white/10 hover:border-white text-gray-400 hover:text-white text-xs px-5 py-2.5 rounded-xl font-bold transition-all uppercase tracking-wider",children:"ACCEPT"})]},e.id))]})]}),(0,t.jsx)("div",{className:"mt-10 p-8 bg-blue-500/5 border border-blue-500/10 rounded-3xl italic",children:(0,t.jsx)("p",{className:"text-xs text-blue-400/60 font-bold leading-relaxed uppercase tracking-tight text-center",children:"Resources required for assembly can only be acquired through exploration and mission completion."})})]})})]})}function o({stats:e,onCraft:l}){let[a,s]=(0,r.useState)(null),i=Object.values(n).filter(e=>e.price).map(e=>({name:e.name,icon:e.icon,requirements:e.price||{},result:{drillId:e.id,drillName:e.name,drillIcon:e.icon},description:e.description,id:e.id,power:e.basePower})),o=t=>!e.ownedDrillIds?.includes(t.id)&&Object.entries(t.requirements).every(([t,r])=>(void 0!==e[t]?e[t]:e.inventory[t]||0)>=r);return(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 text-white h-full w-full overflow-hidden min-h-0",children:[(0,t.jsx)("div",{className:"w-full lg:w-64 flex flex-col h-full overflow-hidden min-h-0 flex-shrink-0",children:(0,t.jsxs)("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/5 flex flex-col h-full overflow-hidden",children:[(0,t.jsx)("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-4 border-b border-white/10 pb-3 flex-shrink-0",children:"Materials"}),(0,t.jsx)("div",{className:"space-y-3 overflow-y-auto flex-1 pr-2 custom-scrollbar min-h-0",children:Object.entries(e.inventory).map(([e,r])=>(0,t.jsxs)("div",{className:"flex justify-between items-center bg-black/40 p-2.5 rounded-xl border border-white/5",children:[(0,t.jsx)("span",{className:"text-[10px] font-mono font-bold uppercase text-gray-500",children:e}),(0,t.jsx)("span",{className:"text-sm font-mono font-bold text-white",children:r})]},e))}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-white/10 flex-shrink-0"})]})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col h-full overflow-hidden min-h-0",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6 text-white flex items-center gap-3 font-mono tracking-tight uppercase border-b border-white/10 pb-4 flex-shrink-0",children:"âš™ï¸ Forge Manifest"}),(0,t.jsx)("div",{className:"overflow-y-auto pr-2 custom-scrollbar flex-1 pb-4 min-h-0",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(r=>{let l=a?.name===r.name,n=o(r);return(0,t.jsxs)("div",{onClick:()=>s(r),className:`cursor-pointer p-6 rounded-2xl border transition-all lg:min-h-36 flex flex-col justify-center ${l?"bg-white/10 border-white ring-1 ring-white/50":"bg-white/5 border-white/5 hover:border-white/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center text-3xl border transition-all flex-shrink-0 ${l?"bg-white text-black border-white":"bg-black/40 border-white/10"}`,children:r.icon}),(0,t.jsxs)("div",{className:"min-w-0",children:[(0,t.jsx)("div",{className:"font-bold text-sm tracking-tight uppercase truncate",children:r.name}),(0,t.jsxs)("div",{className:"text-xs text-green-500 font-bold font-mono mt-1",children:["+",r.power," PWR"]})]})]}),!n&&(0,t.jsx)("div",{className:"mt-3 flex gap-1 opacity-50",children:Object.entries(r.requirements).map(([r,l])=>(void 0!==e[r]?e[r]:e.inventory[r]||0)<l?(0,t.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500"},r):null)})]},r.name)})})})]}),(0,t.jsx)("div",{className:"w-full lg:w-72 flex flex-col h-full overflow-hidden min-h-0 flex-shrink-0",children:a?(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 p-6 rounded-[2.5rem] h-full flex flex-col overflow-hidden min-h-0",children:[(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar min-h-0",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-black/60 rounded-3xl flex items-center justify-center text-5xl border border-white/10 mx-auto mb-6 shadow-2xl",children:a.icon}),(0,t.jsx)("h3",{className:"text-lg font-bold text-center text-white uppercase tracking-tight mb-2",children:a.name}),(0,t.jsx)("p",{className:"text-[11px] text-center text-gray-500 font-mono italic mb-6 px-2 leading-relaxed",children:a.description}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-[10px] font-bold text-gray-600 uppercase tracking-widest mb-3 border-b border-white/5 pb-2",children:"Requirements"}),Object.entries(a.requirements).map(([r,l])=>{let a=void 0!==e[r]?e[r]:e.inventory[r]||0,s=a>=l;return(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs font-mono",children:[(0,t.jsx)("span",{className:"uppercase text-gray-400",children:r}),(0,t.jsxs)("span",{className:s?"text-green-500 font-bold":"text-red-500 font-bold",children:[a,"/",l]})]},r)})]})]}),(0,t.jsx)("div",{className:"pt-6 mt-auto flex-shrink-0",children:(0,t.jsx)("button",{disabled:!o(a),onClick:()=>l(a.requirements,a.result),className:`w-full py-4 rounded-xl text-xs font-bold uppercase tracking-[0.2em] border transition-all ${o(a)?"bg-white text-black border-white hover:bg-gray-200 active:scale-95 shadow-xl":"bg-transparent text-gray-700 border-gray-800 cursor-not-allowed"}`,children:"Assemble Module"})})]}):(0,t.jsx)("div",{className:"bg-white/5 border border-white/5 p-6 rounded-[2.5rem] h-full flex items-center justify-center text-center",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"text-4xl opacity-20",children:"ðŸ“"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 font-bold uppercase tracking-[0.2em]",children:"Select Prototype"})]})})})]})}let c=[{key:"dirt",name:"Standard Dirt",icon:"ðŸŸ¤",rarity:"Common",description:"Common soil found near the surface. Used as construction filler or low-grade fuel stabilizer.",color:"amber"},{key:"stone",name:"Raw Stone",icon:"ðŸª¨",rarity:"Common",description:"Dense geological mineral found deeper than dirt. Sturdier building material.",color:"slate"},{key:"coal",name:"Elastic Coal",icon:"â¬›",rarity:"Common",description:"Carbon-rich fossil fuel with high thermal efficiency. Essential for basic energy production.",color:"gray"},{key:"iron",name:"Iron Ore",icon:"ðŸ¥ˆ",rarity:"Uncommon",description:"Raw metal used for heavy-duty alloys. Primary material for industrial machine components.",color:"blue"},{key:"gold",name:"Gold Vein",icon:"ðŸŸ¡",rarity:"Rare",description:"Highly conductive precious metal. Vital for precision electronics and advanced circuitry.",color:"yellow"},{key:"diamond",name:"Nano Diamond",icon:"ðŸ’Ž",rarity:"Exotic",description:"Ultra-hard gemstone. Used for high-grade drill sharpening and advanced optical sensors.",color:"cyan"},{key:"emerald",name:"Emerald",icon:"ðŸŸ©",rarity:"Rare",description:"A bright green gemstone. Often used in high-efficiency laser focusing lenses.",color:"emerald"},{key:"ruby",name:"Ruby",icon:"ðŸŸ¥",rarity:"Rare",description:"A deep red gemstone. Essential for high-temperature thermal protective gear.",color:"red"},{key:"sapphire",name:"Sapphire",icon:"ðŸŸ¦",rarity:"Exotic",description:"A clear blue gemstone. Used in advanced cooling systems and superconductors.",color:"blue"},{key:"uranium",name:"Uranium 235",icon:"â˜¢ï¸",rarity:"Exotic",description:"Highly radioactive heavy metal. Putting it in your pocket is not recommended, but it is a powerful fuel source.",color:"lime"},{key:"obsidian",name:"Obsidian",icon:"ðŸŒ‘",rarity:"Exotic",description:"Volcanic glass formed from rapidly cooling magma. Extremely sharp and hard.",color:"purple"}];function d({stats:e,onClose:l,onEquip:a}){let[s,i]=(0,r.useState)(null),[o,d]=(0,r.useState)("minerals"),x=(0,r.useMemo)(()=>c.find(e=>e.key===s),[s]),u=n[e.equippedDrillId]||n.rusty_drill;return(0,t.jsxs)("div",{className:"flex flex-col h-full overflow-hidden min-h-[500px]",children:[(0,t.jsxs)("div",{className:"flex gap-4 mb-6 border-b border-white/10 pb-4",children:[(0,t.jsx)("button",{onClick:()=>d("minerals"),className:`px-6 py-2 rounded-xl text-xs font-bold uppercase tracking-widest transition-all ${"minerals"===o?"bg-white text-black":"bg-white/5 text-gray-500 hover:bg-white/10 hover:text-white"}`,children:"Minerals"}),(0,t.jsx)("button",{onClick:()=>d("drills"),className:`px-6 py-2 rounded-xl text-xs font-bold uppercase tracking-widest transition-all ${"drills"===o?"bg-white text-black":"bg-white/5 text-gray-500 hover:bg-white/10 hover:text-white"}`,children:"Drills"})]}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6 h-full overflow-hidden",children:[(0,t.jsxs)("div",{className:"w-full lg:w-60 flex flex-col gap-6 shrink-0 h-full overflow-y-auto pr-2",children:[(0,t.jsxs)("div",{className:"bg-white/5 p-6 rounded-3xl border border-white/10 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-24 h-24 flex items-center justify-center bg-black/40 rounded-2xl border border-white/10 mb-4 group hover:scale-105 transition-transform duration-500",children:(0,t.jsx)("span",{className:"text-6xl",children:u.icon})}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-1 opacity-60",children:"Active Module"}),(0,t.jsx)("h3",{className:"text-xl font-bold text-white tracking-tight mb-2",children:u.name}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-white/5 rounded border border-white/10 text-[10px] font-bold text-gray-300 font-mono",children:["PWR: ",u.basePower]}),(0,t.jsxs)("span",{className:"flex items-center gap-1.5 text-[10px] text-green-500 font-bold font-mono",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"STABLE"]})]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-500/5 p-6 rounded-3xl border border-blue-500/10 flex-1 flex flex-col justify-between overflow-hidden relative",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-4 opacity-10 pointer-events-none",children:(0,t.jsx)("span",{className:"text-6xl text-blue-500",children:"âˆž"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,t.jsx)("span",{className:"w-1 h-3 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{className:"text-[10px] text-blue-400 font-bold uppercase tracking-widest leading-none",children:"Storage Protocol"})]}),(0,t.jsxs)("div",{className:"text-xl font-black text-white tracking-widest flex items-baseline gap-2",children:["UNLIMITED"," ",(0,t.jsx)("span",{className:"text-sm text-blue-500 font-normal",children:"Active"})]})]}),(0,t.jsxs)("div",{className:"space-y-3 relative z-10",children:[(0,t.jsxs)("div",{className:"bg-black/40 p-3 rounded-xl border border-white/5",children:[(0,t.jsx)("div",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-1 opacity-60",children:"Data Encryption"}),(0,t.jsx)("div",{className:"text-xs font-bold text-blue-300 font-mono tracking-tight",children:"AES-256 QUANTUM-SECURED"})]}),(0,t.jsx)("div",{className:"text-[10px] text-gray-400/60 font-medium uppercase font-mono italic leading-tight",children:"Matter Compression technology is currently suppressing spatial constraints."})]})]})]}),"minerals"===o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex-[2] flex flex-col gap-6 h-full min-w-[360px]",children:(0,t.jsxs)("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 flex-1 flex flex-col shadow-2xl",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 min-w-0",children:[(0,t.jsx)("div",{className:"w-2 h-6 bg-gray-500 rounded-full opacity-40"}),(0,t.jsx)("h3",{className:"text-lg text-white font-black uppercase tracking-widest",children:"Material Manifest"})]}),(0,t.jsxs)("div",{className:"px-4 py-1.5 bg-black/40 rounded-full border border-white/10 flex items-center gap-3",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full shadow-[0_0_8px_rgba(34,197,94,0.5)]"}),(0,t.jsx)("span",{className:"text-[10px] text-gray-400 font-bold font-mono tracking-widest uppercase",children:"Scanner Online"})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-white/10 grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 auto-rows-max",children:c.map(r=>{let l=e.inventory[r.key]||0,a=s===r.key;return(0,t.jsxs)("button",{onClick:()=>i(r.key),className:`
                          relative aspect-square rounded-2xl border transition-all duration-300 group overflow-hidden
                          ${a?"bg-white/15 border-white/40 shadow-[0_0_20px_rgba(255,255,255,0.05)] scale-[0.98]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/20"}
                        `,children:[(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-4",children:[(0,t.jsx)("span",{className:"text-4xl mb-3 group-hover:scale-110 transition-transform duration-500",children:r.icon}),(0,t.jsxs)("div",{className:"text-[10px] font-bold text-gray-400 group-hover:text-white transition-colors duration-300",children:[l.toLocaleString()," PCS"]})]}),a&&(0,t.jsx)("div",{className:"absolute top-2 right-2 w-2 h-2 bg-white rounded-full shadow-[0_0_8px_white]"}),(0,t.jsx)("div",{className:`absolute inset-x-0 bottom-0 h-1 transition-all duration-500 bg-gradient-to-r ${"dirt"===r.key?"from-amber-600 to-amber-900":"stone"===r.key?"from-slate-600 to-slate-900":"coal"===r.key?"from-gray-600 to-gray-900":"iron"===r.key?"from-blue-600 to-blue-900":"gold"===r.key?"from-yellow-600 to-yellow-900":"diamond"===r.key?"from-cyan-600 to-cyan-900":"emerald"===r.key?"from-emerald-600 to-emerald-900":"ruby"===r.key?"from-red-600 to-red-900":"sapphire"===r.key?"from-blue-600 to-blue-900":"uranium"===r.key?"from-lime-600 to-lime-900":"from-purple-600 to-purple-900"} opacity-0 group-hover:opacity-100`})]},r.key)})})]})}),(0,t.jsx)("div",{className:"w-full lg:w-72 flex flex-col gap-6 shrink-0 h-full",children:(0,t.jsx)("div",{className:"bg-white/5 p-8 rounded-3xl border border-white/10 h-full flex flex-col relative overflow-hidden group",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:`absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 rounded-full blur-[60px] opacity-20 bg-${x.color}-500/30`}),(0,t.jsxs)("div",{className:"relative z-10 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"flex items-center gap-3 mb-6",children:(0,t.jsx)("span",{className:`px-2 py-0.5 rounded text-[10px] font-black uppercase tracking-widest
                          ${"Common"===x.rarity?"bg-gray-500/20 text-gray-400 border border-gray-500/20":"Uncommon"===x.rarity?"bg-blue-500/20 text-blue-400 border border-blue-500/20":"Rare"===x.rarity?"bg-yellow-500/20 text-yellow-400 border border-yellow-500/20":"bg-cyan-500/20 text-cyan-400 border border-cyan-500/20"}
                        `,children:x.rarity})}),(0,t.jsx)("div",{className:"text-6xl mb-6",children:x.icon}),(0,t.jsx)("h3",{className:"text-3xl font-black text-white tracking-tight mb-4 leading-tight",children:x.name}),(0,t.jsx)("div",{className:"bg-black/30 p-5 rounded-2xl border border-white/5 mb-8",children:(0,t.jsxs)("p",{className:"text-sm text-gray-400 font-medium leading-relaxed italic",children:['"',x.description,'"']})}),(0,t.jsx)("div",{className:"h-px bg-white/5 w-full"}),(0,t.jsxs)("div",{className:"flex justify-between items-center px-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"Inventory"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-white font-mono",children:[e.inventory[x.key]||0," ","PCS"]})]})]})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-center px-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-white/5 rounded-full flex items-center justify-center mb-6 border border-white/5",children:(0,t.jsx)("span",{className:"text-2xl opacity-20",children:"ðŸ”"})}),(0,t.jsx)("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Item Intel"}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 font-medium leading-relaxed",children:["Select a mineral from the manifest ",(0,t.jsx)("br",{})," to perform a deep-scan analysis."]})]})})})]}):(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-6 text-white flex items-center gap-3 font-mono tracking-tight uppercase",children:"âš™ï¸ Drill Armory"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.ownedDrillIds?.map(r=>{let l=n[r];if(!l)return null;let s=e.equippedDrillId===r;return(0,t.jsxs)("div",{className:`p-6 rounded-2xl border transition-all flex flex-col ${s?"bg-green-900/10 border-green-500/50 ring-1 ring-green-500/50":"bg-white/5 border-white/10 hover:border-white/20"}`,children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"text-4xl",children:l.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-bold text-white uppercase",children:l.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:l.description})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2 mb-4 text-xs font-mono",children:[(0,t.jsxs)("div",{className:"bg-black/30 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-gray-500 uppercase text-[9px]",children:"PWR"}),(0,t.jsx)("div",{className:"font-bold text-white",children:l.basePower})]}),(0,t.jsxs)("div",{className:"bg-black/30 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-gray-500 uppercase text-[9px]",children:"SPD"}),(0,t.jsxs)("div",{className:"font-bold text-white",children:[l.cooldownMs,"ms"]})]}),(0,t.jsxs)("div",{className:"bg-black/30 p-2 rounded text-center",children:[(0,t.jsx)("div",{className:"text-gray-500 uppercase text-[9px]",children:"FUEL"}),(0,t.jsx)("div",{className:"font-bold text-white",children:l.fuelConsumption})]})]}),(0,t.jsx)("div",{className:"mt-auto",children:s?(0,t.jsx)("div",{className:"w-full py-3 bg-green-500/10 text-green-500 text-center font-bold text-xs uppercase tracking-widest rounded-xl border border-green-500/20",children:"Equipped"}):(0,t.jsx)("button",{onClick:()=>a?.(r),className:"w-full py-3 bg-white text-black hover:bg-gray-200 text-center font-bold text-xs uppercase tracking-widest rounded-xl transition-colors",children:"Equip"})})]},r)})}),(!e.ownedDrillIds||0===e.ownedDrillIds.length)&&(0,t.jsx)("div",{className:"text-gray-500 text-center mt-10",children:"No drills found. Check the shop?"})]})]})]})}function x({onReset:e}){let[l,a]=(0,r.useState)(80),[s,n]=(0,r.useState)(60),[i,o]=(0,r.useState)(70),[c,d]=(0,r.useState)(!0),[x,u]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("drilling-game-settings");if(e)try{let t=JSON.parse(e);void 0!==t.masterVolume&&a(t.masterVolume),void 0!==t.bgmVolume&&n(t.bgmVolume),void 0!==t.sfxVolume&&o(t.sfxVolume),void 0!==t.screenShake&&d(t.screenShake),void 0!==t.highPerformance&&u(t.highPerformance)}catch(e){console.error("Failed to load settings",e)}},[]);let h=e=>{let t={masterVolume:l,bgmVolume:s,sfxVolume:i,screenShake:c,highPerformance:x,...e};localStorage.setItem("drilling-game-settings",JSON.stringify(t))},m=(e,t)=>{"master"===e?(a(t),h({masterVolume:t})):"bgm"===e?(n(t),h({bgmVolume:t})):"sfx"===e&&(o(t),h({sfxVolume:t}))},p=({label:e,value:r,min:l=0,max:a=100,onChange:s})=>(0,t.jsxs)("div",{className:"flex flex-col gap-3 group/slider",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center px-1",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-[0.2em] group-hover/slider:text-blue-400 transition-colors",children:e}),(0,t.jsxs)("span",{className:"text-xs font-mono font-bold text-blue-500 bg-blue-500/10 px-2 py-0.5 rounded border border-blue-500/20",children:[r,"%"]})]}),(0,t.jsx)("div",{className:"relative h-6 flex items-center",children:(0,t.jsx)("input",{type:"range",min:l,max:a,value:r,onChange:e=>s(parseInt(e.target.value)),className:"w-full h-1.5 bg-gray-800 rounded-full appearance-none cursor-pointer accent-blue-500 hover:accent-blue-400 transition-all"})})]}),f=({label:e,subLabel:r,active:l,onToggle:a,color:s="blue"})=>(0,t.jsxs)("div",{onClick:a,className:"flex justify-between items-center p-5 bg-white/5 rounded-2xl border border-white/5 hover:border-white/10 hover:bg-white/[0.07] transition-all cursor-pointer group/toggle",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-sm font-bold text-gray-200 group-hover/toggle:text-white transition-colors",children:e}),(0,t.jsx)("span",{className:"text-[10px] text-gray-500 font-medium uppercase tracking-wider",children:r})]}),(0,t.jsx)("div",{className:`w-12 h-6 rounded-full relative transition-all duration-300 ${l?`bg-${s}-500/20 border border-${s}-500/30`:"bg-gray-800 border border-white/5"}`,children:(0,t.jsx)("div",{className:`absolute top-1 w-4 h-4 rounded-full transition-all duration-300 ${l?`translate-x-7 bg-${s}-500 shadow-[0_0_10px_${s}-500]`:"translate-x-1 bg-gray-600"}`})})]});return(0,t.jsx)("div",{className:"flex flex-col gap-10 pb-4 text-white animate-modal w-full max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"flex flex-col gap-8 w-full",children:[(0,t.jsxs)("div",{className:"bg-gray-900/40 p-10 rounded-[2.5rem] border border-white/5 backdrop-blur-sm relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity",children:(0,t.jsx)("span",{className:"text-6xl",children:"ðŸ”Š"})}),(0,t.jsxs)("h3",{className:"text-xs font-black text-blue-500 uppercase tracking-[0.3em] mb-10 flex items-center gap-4",children:[(0,t.jsx)("span",{className:"w-8 h-px bg-blue-500/50"}),"Audio Frequencies"]}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(p,{label:"Master Output",value:l,onChange:e=>m("master",e)}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-2",children:[(0,t.jsx)(p,{label:"Background Feed",value:s,onChange:e=>m("bgm",e)}),(0,t.jsx)(p,{label:"Signal FX",value:i,onChange:e=>m("sfx",e)})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-900/40 p-10 rounded-[2.5rem] border border-white/5 backdrop-blur-sm",children:[(0,t.jsxs)("h3",{className:"text-xs font-black text-purple-500 uppercase tracking-[0.3em] mb-8 flex items-center gap-4",children:[(0,t.jsx)("span",{className:"w-8 h-px bg-purple-500/50"}),"System Calibration"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(f,{label:"Visual Stability",subLabel:"Screen Shake Effects",active:c,onToggle:()=>{d(!c),h({screenShake:!c})},color:"blue"}),(0,t.jsx)(f,{label:"Turbo Engine",subLabel:"High Performance Mode",active:x,onToggle:()=>{u(!x),h({highPerformance:!x})},color:"purple"})]})]}),(0,t.jsxs)("div",{className:"relative overflow-hidden bg-red-950/10 border border-red-500/10 p-10 rounded-[2.5rem] group hover:border-red-500/30 transition-all duration-500",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-red-600/[0.02] opacity-0 group-hover:opacity-100 transition-opacity duration-1000"}),(0,t.jsxs)("div",{className:"flex items-center gap-8 mb-8 relative z-10",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-red-500/5 rounded-2xl flex items-center justify-center border border-red-500/10 group-hover:border-red-500/30 transition-all shadow-inner",children:(0,t.jsx)("span",{className:"text-4xl filter grayscale group-hover:grayscale-0 transition-all duration-500",children:"â˜¢ï¸"})}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("div",{className:"text-[10px] font-black text-red-500/60 uppercase tracking-[0.5em] mb-2 group-hover:text-red-500 transition-colors",children:"Terminal Protocol"}),(0,t.jsx)("h4",{className:"text-3xl font-black text-white italic tracking-tighter",children:"HARD RESET"})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 font-bold mb-10 leading-relaxed relative z-10 opacity-60 group-hover:opacity-100 transition-opacity uppercase tracking-wider",children:"Critical Failure Risk: Executing this protocol will permanently terminate all session data, equipment upgrades, and resource manifests. Data retrieval is impossible post-execution."}),(0,t.jsx)("button",{onClick:()=>{confirm("SYSTEM ALERT: Permantly erase all progress results? This terminal action is final.")&&e()},className:"relative z-10 w-full py-6 rounded-2xl bg-red-600/5 border border-red-500/20 text-red-500/60 text-[10px] font-black uppercase tracking-[0.4em] hover:bg-red-600 hover:text-white hover:border-red-600 transition-all active:scale-[0.98] shadow-2xl",children:"Initiate System Purge"})]})]})})}function u({stats:e,onClose:r}){let l=n[e.equippedDrillId]||n.rusty_drill;return(0,t.jsxs)("div",{className:"flex flex-col h-full overflow-hidden min-h-[500px] text-white font-sans",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-8 border-b border-white/10 pb-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-500/20 rounded-lg flex items-center justify-center border border-purple-500/30",children:(0,t.jsx)("span",{className:"text-xl",children:"ðŸ“Š"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-black tracking-tighter uppercase italic",children:"System Status"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse shadow-[0_0_8px_rgba(34,197,94,0.5)]"}),(0,t.jsx)("span",{className:"text-[10px] text-gray-500 font-mono font-bold tracking-[0.2em] uppercase",children:"Core Online / ID: OMEGA-01"})]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-white/10",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-3 bg-red-500 rounded-full"})," Core Vitality"]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 space-y-4 shadow-inner",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[10px] font-bold font-mono",children:[(0,t.jsx)("span",{className:"text-red-400",children:"STRUCTURE INTEGRITY (HP)"}),(0,t.jsxs)("span",{children:[Math.floor(e.hp)," / ",e.maxHp]})]}),(0,t.jsx)("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden border border-white/5",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-red-600 to-red-400 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(239,68,68,0.3)]",style:{width:`${e.hp/e.maxHp*100}%`}})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-[10px] font-bold font-mono",children:[(0,t.jsx)("span",{className:"text-blue-400",children:"ENERGY CELLS (FUEL)"}),(0,t.jsxs)("span",{children:[Math.floor(e.fuel)," / ",e.maxFuel]})]}),(0,t.jsx)("div",{className:"h-2 bg-black/40 rounded-full overflow-hidden border border-white/5",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-600 to-blue-400 transition-all duration-500 ease-out shadow-[0_0_10px_rgba(59,130,246,0.3)]",style:{width:`${e.fuel/e.maxFuel*100}%`}})})]})]})]}),(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-3 bg-yellow-500 rounded-full"})," Tactical Data"]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase tracking-tighter",children:"Attack Power"}),(0,t.jsx)("div",{className:"text-2xl font-black text-white font-mono",children:e.attackPower}),(0,t.jsx)("div",{className:"text-[9px] text-purple-400 font-bold mt-1",children:"ATK"})]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase tracking-tighter",children:"Current Depth"}),(0,t.jsxs)("div",{className:"text-2xl font-black text-white font-mono",children:[Math.floor(e.depth),"m"]}),(0,t.jsx)("div",{className:"text-[9px] text-green-400 font-bold mt-1",children:"LOC"})]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase tracking-tighter",children:"Record Depth"}),(0,t.jsxs)("div",{className:"text-2xl font-black text-white font-mono",children:[Math.floor(e.maxDepthReached),"m"]}),(0,t.jsx)("div",{className:"text-[9px] text-blue-400 font-bold mt-1",children:"MAX"})]}),(0,t.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-4 text-center relative overflow-hidden group",children:[(0,t.jsx)("div",{className:"text-[10px] text-gray-500 font-bold mb-1 uppercase tracking-tighter",children:"Collected Items"}),(0,t.jsx)("div",{className:"text-2xl font-black text-white font-mono",children:Object.values(e.inventory).reduce((e,t)=>e+t,0)}),(0,t.jsx)("div",{className:"text-[9px] text-amber-400 font-bold mt-1",children:"INV"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-3 bg-cyan-500 rounded-full"})," Active Module"]}),(0,t.jsx)("div",{className:"bg-gradient-to-br from-white/10 to-transparent border border-white/10 rounded-3xl p-6 group",children:(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-black/40 rounded-2xl border border-white/10 flex items-center justify-center text-5xl group-hover:scale-110 transition-transform duration-500",children:l.icon}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-xl font-black text-white mb-1 uppercase italic tracking-tighter",children:l.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 font-medium mb-3 leading-tight italic",children:['"',l.description,'"']}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-white/5 rounded text-[9px] font-bold font-mono border border-white/10 text-cyan-400",children:["PWR: ",l.basePower]}),(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-white/5 rounded text-[9px] font-bold font-mono border border-white/10 text-cyan-400",children:["SPD: ",l.cooldownMs,"ms"]}),(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-white/5 rounded text-[9px] font-bold font-mono border border-white/10 text-cyan-400",children:["F.C: ",l.fuelConsumption]})]})]})]})})]}),(0,t.jsxs)("section",{className:"h-full flex flex-col",children:[(0,t.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-3 bg-purple-500 rounded-full"})," Artifacts Collection"]}),(0,t.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-3xl p-6 flex-1 min-h-[150px]",children:e.artifacts.length>0?(0,t.jsx)("div",{className:"grid grid-cols-1 gap-3",children:e.artifacts.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center gap-4 bg-purple-500/5 border border-purple-500/20 p-4 rounded-2xl group hover:bg-purple-500/10 transition-colors",children:[(0,t.jsx)("div",{className:"text-3xl animate-bounce-slow",children:"âœ¨"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-black text-purple-300 uppercase italic tracking-widest",children:e}),(0,t.jsx)("div",{className:"text-[10px] text-purple-400/60 font-mono font-bold",children:"LEGENDARY COMPONENT ACQUIRED"})]})]},r))}):(0,t.jsxs)("div",{className:"h-full flex flex-col items-center justify-center opacity-30 italic",children:[(0,t.jsx)("div",{className:"text-4xl mb-2",children:"ðŸ’Ž"}),(0,t.jsx)("div",{className:"text-xs font-bold uppercase tracking-[0.2em]",children:"No Artifacts Detected"})]})})]})]})]}),(0,t.jsxs)("div",{className:"mt-8 pt-4 border-t border-white/5 flex justify-between items-center text-[9px] font-mono text-gray-600",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("span",{children:"OS: DRILL-TECH v4.2.1"}),(0,t.jsx)("span",{children:"FIRMWARE: QUANTUM-SYNC"})]}),(0,t.jsx)("div",{className:"animate-pulse",children:"SYSTEM STATUS: OPTIMAL"})]})]})}function h(){let e=(0,r.useRef)(null),[a,s]=(0,r.useState)(!1),c=(0,r.useRef)(null),h=(0,r.useRef)(null),[p,f]=(0,r.useState)(!1),b=(0,r.useRef)(null),[g,w]=(0,r.useState)(!1),v=(0,r.useRef)([]),y=(0,r.useRef)({}),j=(0,r.useRef)(null),N=(0,r.useRef)([]),k=(0,r.useRef)(new l),S=(0,r.useRef)({x:Math.floor(15)-1,y:8}),R=(0,r.useRef)({x:Math.floor(15),y:8}),C=(0,r.useRef)({fuel:100,maxFuel:100,depth:0,equippedDrillId:"rusty_drill",ownedDrillIds:["rusty_drill"],maxDepthReached:0,artifacts:[],hp:100,maxHp:100,attackPower:10,inventory:{dirt:0,stone:0,coal:0,iron:0,gold:0,diamond:0,emerald:0,ruby:0,sapphire:0,uranium:0,obsidian:0},activeQuests:[],completedQuestIds:[]}),E=(0,r.useRef)({}),M=(0,r.useRef)(!1),[T,I]=(0,r.useState)(C.current),A=(0,r.useRef)(0),_=(0,r.useRef)(0),[P,D]=(0,r.useState)(!1),L=(0,r.useRef)(!1),[O,q]=(0,r.useState)(!1),U=(0,r.useRef)(!1),F=e=>{U.current=e,q(e)},[$,H]=(0,r.useState)(!1),Q=(0,r.useRef)(!1),z=e=>{Q.current=e,H(e)},[B,G]=(0,r.useState)(!1),V=(0,r.useRef)(!1),Y=e=>{V.current=e,G(e)},[W,K]=(0,r.useState)(!1),J=(0,r.useRef)(!1),X=e=>{J.current=e,K(e)},[Z,ee]=(0,r.useState)(!1),et=(0,r.useRef)(!1),er=e=>{et.current=e,ee(e)},[el,ea]=(0,r.useState)(!1),es=(0,r.useRef)(!1),en=e=>{es.current=e,ea(e)},[ei,eo]=(0,r.useState)(null),ec=(0,r.useRef)(null),ed=(0,r.useRef)([]),ex=(0,r.useRef)([]),eu=(0,r.useRef)(0),eh=(0,r.useCallback)(()=>{let e={stats:C.current,position:S.current,tileMap:k.current.serialize(),lastSaved:Date.now()};localStorage.setItem("drilling-game-save",JSON.stringify(e)),console.log("Game Saved to LocalStorage")},[]),em=(0,r.useCallback)(()=>{let e=localStorage.getItem("drilling-game-save");if(e)try{let t=JSON.parse(e);if(t.stats){let e=t.stats.equippedDrillId||"rusty_drill",r=t.stats.ownedDrillIds||["rusty_drill"],l={...C.current.inventory,...t.stats.inventory||{}};C.current={...C.current,...t.stats,inventory:l,equippedDrillId:e,ownedDrillIds:r,maxDepthReached:t.stats.maxDepthReached||t.stats.depth||0,artifacts:t.stats.artifacts||[],hp:t.stats.hp??100,maxHp:t.stats.maxHp??100,attackPower:t.stats.attackPower??10},I({...C.current})}return t.position&&(S.current=t.position,R.current={...t.position}),t.tileMap&&(k.current.deserialize(t.tileMap),console.log("TileMap Loaded from LocalStorage")),console.log("Game Loaded from LocalStorage"),!0}catch(e){console.error("Failed to parse save data",e)}return!1},[]);(0,r.useEffect)(()=>{s(!0);let e=()=>{fetch(`baseLayout.json?t=${Date.now()}`).then(e=>e.json()).then(e=>{b.current=e.tiles}).catch(e=>console.error("Failed to load base layout:",e))},t=()=>{fetch(`entities.json?t=${Date.now()}`).then(e=>e.json()).then(e=>{console.log("Entities Loaded:",e.entities.length),v.current=e.entities,e.entities.forEach(e=>{if(e.imagePath&&!y.current[e.imagePath]){let t=new Image;t.src=e.imagePath.startsWith("/")?e.imagePath.substring(1):e.imagePath,t.onload=()=>{y.current[e.imagePath]=t}}})}).catch(e=>console.error("Failed to load entities:",e))},r=()=>{fetch(`quests.json?t=${Date.now()}`).then(e=>e.json()).then(e=>{N.current=e.quests}).catch(e=>console.error("Failed to load quests:",e))},l=e=>{let t=U.current||Q.current||V.current||et.current;if("Escape"===e.key)return void(t?(F(!1),z(!1),Y(!1),X(!1)):Y(!0));if("i"===e.key.toLowerCase()){U.current||V.current||(z(!Q.current),es.current&&en(!1));return}if("c"===e.key.toLowerCase()){U.current||V.current||(en(!es.current),Q.current&&z(!1));return}if("l"===e.key.toLowerCase()){U.current||V.current||!(C.current.maxDepthReached>=100)||er(!et.current);return}if((" "===e.key||"e"===e.key||"E"===e.key)&&L.current&&!t){"shop"===ec.current?F(!0):"crafting"===ec.current&&X(!0),E.current={};return}!t&&(E.current[e.key.toLowerCase()]=!0,["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," "].includes(e.key)&&e.preventDefault())},a=e=>{E.current[e.key.toLowerCase()]=!1},n=()=>{E.current={},M.current=!1},i=new Image;i.src="Player.png",i.onload=()=>{j.current=i};let o=new Image;o.src="NewTileset.png",o.onload=()=>{console.log("Tileset Loaded:",o.width,o.height),c.current=o,f(!0)};let d=new Image;d.src="BaseTileset.png",d.onload=()=>{console.log("Base Tileset Loaded:",d.width,d.height),h.current=d,w(!0)},e(),t(),em()||e(),t(),r();let x=setInterval(()=>{t(),r()},5e3),u=setInterval(()=>{eh()},1e4),m=setInterval(()=>{!(U.current||Q.current||V.current||J.current)&&k.current&&S.current&&k.current.regenerateResources(S.current.x,S.current.y)},5e3);return window.addEventListener("keydown",l),window.addEventListener("keyup",a),window.addEventListener("blur",n),()=>{window.removeEventListener("keydown",l),window.removeEventListener("keyup",a),window.removeEventListener("blur",n),clearInterval(x),clearInterval(u),clearInterval(m)}},[]);let ep=(0,r.useCallback)(e=>{let t=Date.now(),r=(e,t,r)=>{for(let l=0;l<8;l++)ed.current.push({x:e+20,y:t+20,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10,life:1,color:r,size:4*Math.random()+2})},l=(e,t,r,l)=>{ex.current.push({x:e+20,y:t,text:r,color:l,startY:t,life:1})};if(A.current,U.current||Q.current||V.current||J.current||et.current||es.current)return;let a=0,s=0,i=E.current;if(i.arrowdown||i.s?s=1:(i.arrowup||i.w)&&(s=-1),0===s&&(i.arrowleft||i.a?a=-1:(i.arrowright||i.d)&&(a=1)),0!==a||0!==s){let e=S.current,i=e.x+a,o=e.y+s;if(o<10&&b.current&&[7,10,11,12,13,17].includes(b.current[o]?.[i]))return;let c=k.current.getTile(i,o);if(c&&"wall"!==c.type){let e=n[C.current.equippedDrillId]||n.rusty_drill,a="empty"!==c.type?e.cooldownMs:100;t-A.current>2*a&&(A.current=t-a);let s=0;for(;s<10;){let a=t-A.current,n="empty"!==c.type?e.cooldownMs:100;if(a<n)break;if(s++,"empty"===c.type){S.current={x:i,y:o};let e=Math.max(0,o-10);C.current.depth=e,e>C.current.maxDepthReached&&(C.current.maxDepthReached=e),M.current=!1,A.current+=n;break}if(C.current.fuel>0){M.current=!0;let t=c.type,a=c.value;if("monster_nest"===t||"boss_core"===t){let e="boss_core"===t?2:.5;if(C.current.hp=Math.max(0,C.current.hp-e),eu.current=10,.1>Math.random()&&l(40*S.current.x,40*S.current.y-20,"OUCH!","#ef4444"),C.current.hp<=0){l(40*S.current.x,40*S.current.y-40,"CRITICAL DAMAGE! RETURNING...","#ef4444"),setTimeout(()=>{S.current={x:Math.floor(15),y:8},R.current={...S.current},C.current.hp=C.current.maxHp,C.current.fuel=C.current.maxFuel,C.current.depth=0,I({...C.current})},1e3),M.current=!1;return}}let s=m(t);if(k.current.damageTile(i,o,e.basePower)){r(40*i,40*o,s),eu.current=5;let c=C.current;if(a>=0&&void 0!==c.inventory[t]&&(c.inventory[t]++,l(40*i,40*o,`+1 ${t.toUpperCase()}`,"#fbbf24")),"boss_core"===t){let e="Ancient Core";c.artifacts.includes(e)||(c.artifacts.push(e),c.attackPower+=20,c.maxHp+=50,c.hp=c.maxHp,l(40*i,40*o-40,"ARTIFACT ACQUIRED: ANCIENT CORE!","#a855f7"),l(40*i,40*o-20,"ATK +20, MAX HP +50","#a855f7"))}C.current.activeQuests.forEach(e=>{if("active"===e.status&&e.requirement.type===t){let r=C.current.inventory[t]||0;e.requirement.current=r,e.requirement.current>=e.requirement.target&&(console.log(`Quest Complete Target Reached: ${e.title}`),l(40*i,40*o-20,"QUEST COMPLETE!","#4ade80")),I({...C.current})}}),c.fuel=Math.max(0,c.fuel-e.fuelConsumption);let d=Math.max(0,o-10);c.depth=d,d>c.maxDepthReached&&(c.maxDepthReached=d),S.current={x:i,y:o},M.current=!1,A.current+=n;break}A.current+=n}else{l(40*S.current.x,40*S.current.y-40,"NO FUEL! RETURNING...","#ef4444"),setTimeout(()=>{S.current={x:Math.floor(15),y:8},C.current.depth=0},1e3),M.current=!1,A.current=t+1e3;break}}}else M.current=!1}else M.current=!1;if(S.current.y<10&&C.current.fuel<C.current.maxFuel&&(C.current.fuel=Math.min(C.current.maxFuel,C.current.fuel+.5)),t-_.current>100){var o;I({...C.current});let e=S.current.x,r=S.current.y,l=!1;for(let t of v.current){t.width;let a=t.height||1;if(2.5>Math.sqrt(Math.pow(t.x-e,2)+Math.pow(t.y-a/2-r,2))){l=!0,ec.current=t.interactionType,eo(t.interactionType);break}}L.current!==l&&(L.current=o=l,D(o)),_.current=t}},[]);(0,r.useEffect)(()=>{let t;if(!a)return;let r=e.current;if(!r)return;let l=r.getContext("2d");if(!l)return;let s=e=>{ep(e),U.current||Q.current||V.current||J.current||es.current;let a=S.current,n=R.current;n.x+=(a.x-n.x)*.2,n.y+=(a.y-n.y)*.2,eu.current>0&&(n.x+=(Math.random()-.5)*.1*eu.current,n.y+=(Math.random()-.5)*.1*eu.current,eu.current=Math.max(0,eu.current-.5)),l.clearRect(0,0,r.width,r.height);let i=k.current,o=Math.round(40*n.y-r.height/2);n.x,r.width,l.save(),l.imageSmoothingEnabled=!1,l.translate(0,-o);let d=Math.max(0,Math.floor(o/40)-5),x=d+Math.ceil(r.height/40)+10;if(l.fillStyle="#87CEEB",l.fillRect(0,0,r.width,400),l.fillStyle="#4e342e",l.fillRect(0,400,r.width,(x-10)*40),h.current){for(let e=0;e<10;e++)for(let t=0;t<30;t++){if(40*e-o>r.height)continue;let a=-1;b.current&&b.current[e]&&void 0!==b.current[e][t]&&(a=b.current[e][t]);let s=40*t,n=40*e;if(l.fillStyle="#87CEEB",l.fillRect(s,n,40,40),a>=0){let e=a%5*128,t=128*Math.floor(a/5),r=0;11===a&&(r=12),l.drawImage(h.current,e,t,128,128,s+r,n,41,41)}}l.fillText("ðŸŒ¿ BASE CAMP - AUTO REFUEL",20,380)}if(h.current)for(let e of v.current){let t=40*(e.width||1),r=40*(e.height||1),a=(e.x-(e.width||1)/2)*40,s=(e.y-(e.height||1))*40;if(e.imagePath&&y.current[e.imagePath]){let n=y.current[e.imagePath];l.drawImage(n,0,0,n.width,n.height,a,s,t,r)}else if(void 0!==e.spriteIndex&&h.current){let n=e.spriteIndex%5*128,i=128*Math.floor(e.spriteIndex/5);l.drawImage(h.current,n,i,128,128,a,s,t,r)}}else d<10&&(l.fillStyle="rgba(0, 255, 0, 0.1)",l.fillRect(0,0,r.width,400-o),l.fillStyle="#4ade80",l.font="bold 20px monospace",l.fillText("ðŸ  BASE AREA - AUTO REFUEL",20,380));for(let e=d;e<x;e++)for(let t=0;t<30;t++){let r=i.grid[e]?.[t];if(r&&"empty"!==r.type){if(c.current){let a=(1234*t+5678*e)%1e3,s=function(e){switch(e){case"dirt":default:return 0;case"stone":return 3;case"coal":return 5;case"iron":return 6;case"gold":return 7;case"diamond":return 8;case"wall":return 9;case"emerald":return 20;case"ruby":return 21;case"sapphire":return 22;case"uranium":return 23;case"obsidian":return 24;case"lava":return 25;case"dungeon_bricks":return 30;case"monster_nest":return 31;case"boss_core":return 32}}(r.type);"dirt"===r.type?s=Math.floor(a%3):"stone"===r.type&&(s=3+Math.floor(a%2));let n=s%5*128,i=128*Math.floor(s/5);s>=0?l.drawImage(c.current,n,i,128,128,40*t,40*e,41,41):(l.fillStyle=m(r.type),l.fillRect(40*t,40*e,41,41))}else l.fillStyle=m(r.type),l.fillRect(40*t,40*e,41,41);if(r.health<r.maxHealth&&r.health>0){l.fillStyle="rgba(255,255,255,0.3)";let a=1-r.health/r.maxHealth;l.fillRect(40*t,40*e,39,39*a)}}}let u=Math.round(40*n.x),p=Math.round(40*n.y);M.current?(u+=(Math.random()-.5)*4,p+=(Math.random()-.5)*4,l.shadowBlur=15,l.shadowColor="#ff3d00"):l.shadowBlur=0,j.current?l.drawImage(j.current,u,p,40,40):(l.fillStyle="#ff3d00",l.fillRect(u+4,p+4,32,32)),l.shadowBlur=0;let f=l.createRadialGradient(u+20,p+20,50,u+20,p+20,400),g=Math.min(.95,.3+.005*Math.max(0,n.y-10));f.addColorStop(0,"rgba(0, 0, 0, 0)"),f.addColorStop(.3,`rgba(0, 0, 0, ${.5*g})`),f.addColorStop(1,`rgba(0, 0, 0, ${g})`),l.fillStyle=f,l.fillRect(0,o,r.width,r.height);for(let e=ed.current.length-1;e>=0;e--){let t=ed.current[e];if(t.life-=.05,t.life<=0){ed.current.splice(e,1);continue}t.x+=t.vx,t.y+=t.vy,t.vy+=.5,l.fillStyle=t.color,l.globalAlpha=t.life,l.fillRect(t.x,t.y,t.size,t.size),l.globalAlpha=1}l.textAlign="center",l.font="bold 20px monospace";for(let e=ex.current.length-1;e>=0;e--){let t=ex.current[e];if(t.life-=.015,t.life<=0){ex.current.splice(e,1);continue}t.y-=1,l.globalAlpha=t.life,l.lineWidth=3,l.strokeStyle="black",l.strokeText(t.text,t.x,t.y),l.fillStyle=t.color,l.fillText(t.text,t.x,t.y),l.globalAlpha=1}l.textAlign="left",l.save(),l.resetTransform(),l.fillStyle="rgba(0, 0, 0, 0.5)",l.beginPath(),l.roundRect(20,20,200,24,12),l.fill();let w=C.current.fuel,N=C.current.maxFuel;l.fillStyle=w<20?"#ef4444":"#f97316",l.beginPath(),l.roundRect(22,22,Math.max(0,w/N*196),20,10),l.fill(),l.fillStyle="#fff",l.font="bold 12px monospace",l.fillText(`FUEL: ${Math.floor(w)}%`,30,36),C.current.hp,C.current.maxHp,l.fillStyle="#a855f7",l.font="bold 12px monospace",C.current.attackPower,C.current.artifacts.length,l.fillStyle="rgba(0, 0, 0, 0.5)",l.beginPath(),l.roundRect(20,55,120,30,8),l.fill(),l.fillStyle="#4ade80",l.font="bold 16px monospace",l.textAlign="left",l.fillText(`DEPTH: ${Math.max(0,Math.floor(S.current.y-10))}m`,30,76),!P||O||$||B||(l.fillStyle="white",l.font="bold 16px monospace",l.textAlign="center",l.shadowBlur=10,l.shadowColor="black",l.fillText("PRESS [SPACE] TO TALK TO MERCHANT",r.width/2,r.height-40),l.shadowBlur=0,l.textAlign="left"),l.restore(),l.restore(),t=requestAnimationFrame(s)};return t=requestAnimationFrame(s),()=>cancelAnimationFrame(t)},[a,ep]);let ef=(e,t)=>{let r=C.current;r.inventory.stone<(e.stone||0)||r.inventory.coal<(e.coal||0)||r.inventory.iron<(e.iron||0)||r.inventory.gold<(e.gold||0)||r.inventory.diamond<(e.diamond||0)||(e.stone&&(r.inventory.stone-=e.stone),e.coal&&(r.inventory.coal-=e.coal),e.iron&&(r.inventory.iron-=e.iron),e.gold&&(r.inventory.gold-=e.gold),e.diamond&&(r.inventory.diamond-=e.diamond),t.drillId&&!r.ownedDrillIds.includes(t.drillId)&&r.ownedDrillIds.push(t.drillId),I({...r}),console.log(`Equipped Crafted Gear: ${t.drillName}`))};return a?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center bg-gray-950",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("canvas",{ref:e,width:1200,height:800,className:"border-8 border-gray-900 rounded-3xl bg-black shadow-2xl cursor-none"}),O&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-8 animate-backdrop rounded-2xl",children:(0,t.jsxs)("div",{className:"bg-gray-950 w-full max-w-5xl rounded-3xl border border-white/10 relative flex flex-col max-h-[90%] animate-modal overflow-hidden",children:[(0,t.jsx)("button",{onClick:()=>F(!1),className:"absolute top-6 right-6 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-black/40 text-gray-400 hover:text-white hover:bg-black/60 transition-all border border-white/5 active:scale-90",children:"âœ•"}),(0,t.jsx)("div",{className:"p-8 overflow-y-auto mt-2",children:(0,t.jsx)(i,{stats:T,onUpgrade:(e,t)=>{let r=C.current;r.inventory.dirt<(t.dirt||0)||r.inventory.stone<(t.stone||0)||r.inventory.coal<(t.coal||0)||r.inventory.iron<(t.iron||0)||r.inventory.gold<(t.gold||0)||r.inventory.diamond<(t.diamond||0)||(t.dirt&&(r.inventory.dirt-=t.dirt),t.stone&&(r.inventory.stone-=t.stone),t.coal&&(r.inventory.coal-=t.coal),t.iron&&(r.inventory.iron-=t.iron),t.gold&&(r.inventory.gold-=t.gold),t.diamond&&(r.inventory.diamond-=t.diamond),"maxFuel"===e?(r.maxFuel+=50,r.fuel=r.maxFuel):"drillPower"===e&&console.warn("Drill Power upgrade is deprecated"),I({...r}),console.log(`System Upgraded: ${e}`))},onCraft:ef,availableQuests:N.current,onAcceptQuest:e=>{let t=N.current.find(t=>t.id===e);if(t&&!C.current.activeQuests.find(t=>t.id===e)){let e={...t,status:"active"};C.current.activeQuests.push(e),I({...C.current})}},onCompleteQuest:e=>{let t=C.current.activeQuests.findIndex(t=>t.id===e);if(-1!==t){let r=C.current.activeQuests[t];r.requirement.current>=r.requirement.target&&(r.reward.fuel&&(C.current.fuel=Math.min(C.current.maxFuel,C.current.fuel+r.reward.fuel)),C.current.completedQuestIds.push(e),C.current.activeQuests.splice(t,1),I({...C.current}))}}})})]})}),el&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-8 animate-backdrop rounded-2xl",children:(0,t.jsxs)("div",{className:"bg-gray-950/90 backdrop-blur-3xl w-full max-w-4xl rounded-[40px] border border-white/10 relative flex flex-col h-[85%] animate-modal overflow-hidden shadow-[0_0_100px_rgba(168,85,247,0.15)]",children:[(0,t.jsx)("button",{onClick:()=>en(!1),className:"absolute top-8 right-8 w-12 h-12 flex items-center justify-center rounded-2xl bg-white/5 text-gray-400 hover:text-white hover:bg-white/10 transition-all z-20 active:scale-95 group",children:(0,t.jsx)("span",{className:"text-xl group-hover:rotate-90 transition-transform duration-300",children:"âœ•"})}),(0,t.jsx)("div",{className:"p-12 h-full overflow-y-auto custom-scrollbar relative",children:(0,t.jsx)(u,{stats:T,onClose:()=>en(!1)})})]})}),$&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-8 animate-backdrop rounded-2xl",children:(0,t.jsxs)("div",{className:"bg-gray-950 w-full max-w-6xl rounded-3xl border border-white/10 relative flex flex-col max-h-[85%] animate-modal overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-8 bg-white/5 border-b border-white/10 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-[10px] font-mono font-black text-blue-500 uppercase tracking-[0.3em] mb-1",children:"Resource Hub"}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-white tracking-tight flex items-center gap-2",children:"ðŸŽ’ INVENTORY"})]}),(0,t.jsx)("button",{onClick:()=>z(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-black/40 text-gray-400 hover:text-white hover:bg-black/60 transition-all border border-white/5 active:scale-90",children:"âœ•"})]}),(0,t.jsx)("div",{className:"p-8 overflow-y-auto",children:(0,t.jsx)(d,{stats:T,onClose:()=>z(!1),onEquip:e=>{let t=C.current;t.ownedDrillIds.includes(e)&&(t.equippedDrillId=e,I({...t}),console.log(`Equipped Drill: ${e}`))}})})]})}),W&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-4 md:p-12 animate-backdrop rounded-2xl overflow-hidden",children:(0,t.jsxs)("div",{className:"bg-gray-950 w-full max-w-7xl rounded-[3rem] border border-white/10 relative flex flex-col h-[90vh] max-h-[850px] animate-modal overflow-hidden shadow-[0_0_100px_rgba(37,99,235,0.1)]",children:[(0,t.jsxs)("div",{className:"p-8 md:p-10 bg-white/5 border-b border-white/10 flex justify-between items-center flex-shrink-0",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-xs font-mono font-black text-blue-500 uppercase tracking-[0.4em] mb-2",children:"Assembly Core"}),(0,t.jsxs)("h2",{className:"text-3xl md:text-4xl font-extrabold text-white tracking-tighter flex items-center gap-3 italic",children:[(0,t.jsx)("span",{className:"not-italic text-3xl",children:"âš™ï¸"})," CRAFTING"]})]}),(0,t.jsx)("button",{onClick:()=>X(!1),className:"w-12 h-12 flex items-center justify-center rounded-full bg-black/40 text-gray-400 hover:text-white hover:bg-black/60 transition-all border border-white/10 active:scale-90",children:"âœ•"})]}),(0,t.jsx)("div",{className:"p-6 md:p-10 overflow-hidden flex-1 min-h-0 flex flex-col",children:(0,t.jsx)("div",{className:"flex-1 min-h-0",children:(0,t.jsx)(o,{stats:T,onCraft:ef})})})]})}),B&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-8 animate-backdrop rounded-2xl",children:(0,t.jsxs)("div",{className:"bg-gray-950 w-full max-w-6xl rounded-3xl border border-white/10 relative flex flex-col max-h-[90%] animate-modal overflow-hidden shadow-[0_0_100px_rgba(59,130,246,0.1)]",children:[(0,t.jsx)("button",{onClick:()=>Y(!1),className:"absolute top-6 right-6 z-10 w-10 h-10 flex items-center justify-center rounded-full bg-black/40 text-gray-400 hover:text-white hover:bg-black/60 transition-all border border-white/5 active:scale-90",children:"âœ•"}),(0,t.jsx)("div",{className:"p-10 overflow-y-auto mt-4 scrollbar-hide",children:(0,t.jsx)(x,{onReset:()=>{localStorage.removeItem("drilling-game-save"),window.location.reload()}})})]})}),Z&&(0,t.jsx)("div",{className:"absolute inset-0 z-50 flex items-center justify-center p-8 animate-backdrop rounded-2xl",children:(0,t.jsxs)("div",{className:"bg-gray-950 w-full max-w-md rounded-3xl border border-white/10 relative flex flex-col max-h-[80%] animate-modal overflow-hidden shadow-[0_0_50px_rgba(59,130,246,0.1)]",children:[(0,t.jsxs)("div",{className:"p-6 bg-white/5 border-b border-white/10 flex justify-between items-center",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-white flex items-center gap-2 font-mono",children:[(0,t.jsx)("span",{children:"ðŸ›—"})," ELEVATOR"]}),(0,t.jsx)("button",{onClick:()=>er(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-black/40 text-gray-400 hover:text-white hover:bg-black/60 transition-all active:scale-90",children:"âœ•"})]}),(0,t.jsxs)("div",{className:"p-6 overflow-y-auto space-y-3 custom-scrollbar",children:[(0,t.jsxs)("button",{onClick:()=>{S.current={x:Math.floor(15)-1,y:8},R.current={...S.current},C.current.depth=0,er(!1)},className:"w-full p-4 rounded-xl bg-blue-600/10 border border-blue-500/20 text-blue-400 hover:bg-blue-600/20 transition-all font-bold flex justify-between items-center group",children:[(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsx)("span",{className:"text-blue-500 text-[10px] uppercase tracking-widest mb-1 group-hover:text-blue-400",children:"Surface"}),(0,t.jsx)("span",{className:"text-lg",children:"BASE CAMP"})]}),(0,t.jsx)("span",{className:"bg-blue-500/20 px-3 py-1 rounded-full text-sm",children:"0m"})]}),Array.from({length:Math.floor(T.maxDepthReached/100)},(e,t)=>(t+1)*100).map(e=>(0,t.jsxs)("button",{onClick:()=>{S.current={x:Math.floor(15)-1,y:e+10},R.current={...S.current},C.current.depth=e,er(!1)},className:"w-full p-4 rounded-xl bg-gray-900 border border-white/5 text-gray-300 hover:bg-gray-800 hover:border-white/10 transition-all font-bold flex justify-between items-center group",children:[(0,t.jsxs)("div",{className:"flex flex-col items-start",children:[(0,t.jsx)("span",{className:"text-gray-500 text-[10px] uppercase tracking-widest mb-1 group-hover:text-gray-400 italic",children:"Checkpoint"}),(0,t.jsx)("span",{className:"text-lg",children:"OUTPOST"})]}),(0,t.jsxs)("span",{className:"bg-white/5 px-3 py-1 rounded-full text-sm text-gray-400",children:[e,"m"]})]},e))]}),(0,t.jsx)("div",{className:"p-4 bg-black/40 text-center border-t border-white/5",children:(0,t.jsx)("p",{className:"text-[10px] text-gray-500 uppercase tracking-[0.2em] font-medium",children:"Select target depth"})})]})}),(0,t.jsx)("div",{className:"absolute top-4 right-6 bg-black/60 px-3 py-1 rounded-full text-[10px] text-gray-400 font-mono tracking-tighter border border-white/5 shadow-lg",children:"STABLE 60 FPS"})]})}):(0,t.jsx)("div",{className:"text-white text-2xl font-mono p-20",children:"LOADING DRILL..."})}function m(e){switch(e){case"dirt":return"#4e342e";case"stone":return"#455a64";case"coal":return"#212121";case"iron":return"#78909c";case"gold":return"#fbc02d";case"diamond":return"#00bcd4";case"emerald":return"#10b981";case"ruby":return"#ef4444";case"sapphire":return"#3b82f6";case"uranium":return"#84cc16";case"obsidian":return"#581c87";case"lava":return"#f97316";case"dungeon_bricks":return"#374151";case"monster_nest":return"#b91c1c";case"boss_core":return"#7c3aed";case"wall":return"#1a1a1b";default:return"#000000"}}e.s(["default",()=>h],4515)}]);